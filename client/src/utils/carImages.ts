// Real car images mapping by make and model - using high-quality Unsplash images
export const carImages = {
  // BMW
  'bmw': {
    '3 series': 'https://images.unsplash.com/photo-1555215695-3004980ad54e?w=800&h=600&fit=crop&auto=format&q=80',
    '5 series': 'https://images.unsplash.com/photo-1606152421802-db97b9c7a11b?w=800&h=600&fit=crop&auto=format&q=80',
    '7 series': 'https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&h=600&fit=crop&auto=format&q=80',
    'x3': 'https://images.unsplash.com/photo-1549317336-206569e8475c?w=800&h=600&fit=crop&auto=format&q=80',
    'x5': 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop&auto=format&q=80',
    'm3': 'https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=800&h=600&fit=crop&auto=format&q=80',
    'm4': 'https://images.unsplash.com/photo-1544636331-e26879cd4d9b?w=800&h=600&fit=crop&auto=format&q=80',
    'i3': 'https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&h=600&fit=crop&auto=format&q=80',
    'i8': 'https://images.unsplash.com/photo-1593941707882-a5bac6861d75?w=800&h=600&fit=crop&auto=format&q=80&fm=jpg'
  },
  
  // Mercedes-Benz
  'mercedes': {
    'c-class': 'https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&h=600&fit=crop&auto=format&q=80',
    'e-class': 'https://images.unsplash.com/photo-1606152421802-db97b9c7a11b?w=800&h=600&fit=crop&auto=format&q=80',
    's-class': 'https://images.unsplash.com/photo-1555215695-3004980ad54e?w=800&h=600&fit=crop&auto=format&q=80',
    'gla': 'https://images.unsplash.com/photo-1549317336-206569e8475c?w=800&h=600&fit=crop&auto=format&q=80',
    'glc': 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop&auto=format&q=80',
    'gle': 'https://images.unsplash.com/photo-1549317336-206569e8475c?w=800&h=600&fit=crop&auto=format&q=80',
    'amg': 'https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=800&h=600&fit=crop&auto=format&q=80',
    'sls': 'https://images.unsplash.com/photo-1544636331-e26879cd4d9b?w=800&h=600&fit=crop&auto=format&q=80'
  },
  
  // Audi
  'audi': {
    'a3': 'https://images.unsplash.com/photo-1606152421802-db97b9c7a11b?w=800&h=600&fit=crop&auto=format&q=80',
    'a4': 'https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&h=600&fit=crop&auto=format&q=80',
    'a6': 'https://images.unsplash.com/photo-1555215695-3004980ad54e?w=800&h=600&fit=crop&auto=format&q=80',
    'a8': 'https://images.unsplash.com/photo-1555215695-3004980ad54e?w=800&h=600&fit=crop&auto=format&q=80',
    'q3': 'https://images.unsplash.com/photo-1549317336-206569e8475c?w=800&h=600&fit=crop&auto=format&q=80',
    'q5': 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop&auto=format&q=80',
    'q7': 'https://images.unsplash.com/photo-1549317336-206569e8475c?w=800&h=600&fit=crop&auto=format&q=80',
    'tt': 'https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=800&h=600&fit=crop&auto=format&q=80',
    'r8': 'https://images.unsplash.com/photo-1544636331-e26879cd4d9b?w=800&h=600&fit=crop&auto=format&q=80'
  },
  
  // Tesla
  'tesla': {
    'model s': 'https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&h=600&fit=crop&auto=format&q=80',
    'model 3': 'https://images.unsplash.com/photo-1593941707882-a5bac6861d75?w=800&h=600&fit=crop&auto=format&q=80&fm=jpg',
    'model x': 'https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&h=600&fit=crop&auto=format&q=80',
    'model y': 'https://images.unsplash.com/photo-1593941707882-a5bac6861d75?w=800&h=600&fit=crop&auto=format&q=80',
    'cybertruck': 'https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&h=600&fit=crop&auto=format&q=80'
  },
  
  // Porsche
  'porsche': {
    '911': 'https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=800&h=600&fit=crop&auto=format&q=80',
    'cayenne': 'https://images.unsplash.com/photo-1549317336-206569e8475c?w=800&h=600&fit=crop&auto=format&q=80',
    'macan': 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop&auto=format&q=80',
    'panamera': 'https://images.unsplash.com/photo-1555215695-3004980ad54e?w=800&h=600&fit=crop&auto=format&q=80',
    'boxster': 'https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=800&h=600&fit=crop&auto=format&q=80',
    'cayman': 'https://images.unsplash.com/photo-1544636331-e26879cd4d9b?w=800&h=600&fit=crop&auto=format&q=80',
    'taycan': 'https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&h=600&fit=crop&auto=format&q=80'
  },
  
  // Jaguar
  'jaguar': {
    'xe': '/assets/luxury Sedam.png',
    'xf': '/assets/luxury Sedam.png',
    'xj': '/assets/luxury Sedam.png',
    'f-pace': '/assets/SUV.png',
    'e-pace': '/assets/SUV.png',
    'f-type': '/assets/Sport car.png'
  },
  
  // Range Rover
  'range rover': {
    'evoque': '/assets/SUV.png',
    'velar': '/assets/SUV.png',
    'sport': '/assets/SUV.png',
    'vogue': '/assets/SUV.png'
  },
  
  // Ford
  'ford': {
    'focus': '/assets/CLASSIC.png',
    'fiesta': '/assets/CLASSIC.png',
    'mustang': '/assets/Sport car.png',
    'explorer': '/assets/SUV.png',
    'edge': '/assets/SUV.png',
    'kuga': '/assets/SUV.png'
  },
  
  // Volkswagen
  'volkswagen': {
    'golf': '/assets/CLASSIC.png',
    'polo': '/assets/CLASSIC.png',
    'passat': '/assets/CLASSIC.png',
    'tiguan': '/assets/SUV.png',
    'touareg': '/assets/SUV.png',
    'id.3': '/assets/ELECTRIC.png',
    'id.4': '/assets/ELECTRIC.png'
  },
  
  // Nissan
  'nissan': {
    'leaf': '/assets/ELECTRIC.png',
    'qashqai': '/assets/SUV.png',
    'x-trail': '/assets/SUV.png',
    'juke': '/assets/SUV.png',
    'micra': '/assets/CLASSIC.png',
    'gt-r': '/assets/Sport car.png'
  },
  
  // Toyota
  'toyota': {
    'prius': '/assets/ELECTRIC.png',
    'camry': '/assets/CLASSIC.png',
    'corolla': '/assets/CLASSIC.png',
    'rav4': '/assets/SUV.png',
    'highlander': '/assets/SUV.png',
    'supra': '/assets/Sport car.png'
  },
  
  // Honda
  'honda': {
    'civic': '/assets/CLASSIC.png',
    'accord': '/assets/CLASSIC.png',
    'cr-v': '/assets/SUV.png',
    'hr-v': '/assets/SUV.png',
    'nsx': '/assets/Sport car.png'
  },
  
  // Lexus
  'lexus': {
    'is': '/assets/luxury Sedam.png',
    'es': '/assets/luxury Sedam.png',
    'ls': '/assets/luxury Sedam.png',
    'nx': '/assets/SUV.png',
    'rx': '/assets/SUV.png',
    'gx': '/assets/SUV.png',
    'lx': '/assets/SUV.png',
    'rc': '/assets/Sport car.png',
    'lc': '/assets/Sport car.png'
  },
  
  // Default fallback
  'default': '/assets/CLASSIC.png'
};

// Function to get car image based on make and model
export const getCarImage = ({ make, model }: { make: string; model: string }): string => {
  if (!make || !model) return carImages.default;
  
  const makeKey = make.toLowerCase().trim();
  const modelKey = model.toLowerCase().trim();
  
  // Check if we have a specific image for this make and model
  if (carImages[makeKey as keyof typeof carImages] && 
      carImages[makeKey as keyof typeof carImages][modelKey as keyof typeof carImages[typeof makeKey]]) {
    return carImages[makeKey as keyof typeof carImages][modelKey as keyof typeof carImages[typeof makeKey]];
  }
  
  // Fallback to default
  return carImages.default;
};

// Function to get specific car image with better error handling
export const getSpecificCarImage = (car: any): string => {
  if (!car) return carImages.default;
  
  // Check if car has images array and first image exists
  if (car.images && car.images.length > 0 && car.images[0]) {
    return car.images[0];
  }
  
  const make = car.make?.toLowerCase().trim() || '';
  const model = car.model?.toLowerCase().trim() || '';
  const title = car.title?.toLowerCase().trim() || '';
  
  // Try to get image based on make and model
  if (make && model) {
    return getCarImage({ make, model });
  }
  
  // Fallback to default
  return carImages.default;
};

// Function to search for car image (async for future API integration)
export const searchCarImage = async (make: string, model: string): Promise<string> => {
  try {
    // For now, return the local asset
    return getCarImage({ make, model });
  } catch (error) {
    console.warn('Failed to fetch car image:', error);
    return carImages.default;
  }
};

// Function to get featured car images
export const getFeaturedCarImages = (): string[] => {
  return [
    '/assets/luxury Sedam.png',
    '/assets/SUV.png',
    '/assets/Sport car.png',
    '/assets/ELECTRIC.png',
    '/assets/CLASSIC.png',
    '/assets/CONVERTIBLES.png'
  ];
};